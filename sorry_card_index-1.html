<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>For My Kuchupuchu -- Sorry Card</title>
  <style>
    :root{
      --bg:#fff6f7;
      --card:#fff8f8;
      --pink:#f7cfe0;
      --accent:#f2a2c1;
      --muted:#9b9b9b;
      --text:#222;
      --btn-shadow: 0 6px 18px rgba(0,0,0,0.08);
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
    }

    .site {
      width:100%;
      max-width:420px;
      background:none;
    }

    .page {
      min-height:560px;
      padding:34px 28px;
      box-sizing:border-box;
      display:none;
      flex-direction:column;
      align-items:center;
    }

    .page.active { display:flex; }

    /* Intro (sorry) */
    .title-small { letter-spacing:0.2em; font-size:13px; color:#b77b8b; margin-bottom:8px; text-align:center;}
    .big-phrase { font-size:44px; font-weight:700; text-align:center; margin:6px 0; color:#111; }
    .big-phrase .soft{ font-weight:500; color:#f2a0c2; font-style:italic; font-size:42px; margin-right:6px;}
    .lead { text-align:center; color:#6f6f6f; line-height:1.6; max-width:320px; margin-bottom:18px; }
    .cute-img { width:160px; height:160px; display:block; margin:18px auto; background:linear-gradient(180deg,#fff,#ffeef2); border-radius:12px; box-shadow:0 8px 18px rgba(0,0,0,0.06); display:flex; align-items:center; justify-content:center; font-size:52px;}
    .next-btn { margin-top:18px; padding:14px 30px; border-radius:28px; background:var(--pink); border:none; box-shadow:var(--btn-shadow); cursor:pointer; }

    /* Card area */
    .card-wrap { width:100%; background:var(--card); padding:18px; border-radius:18px; box-shadow:0 16px 32px rgba(0,0,0,0.05); margin-bottom:18px; }
    .section-title { font-size:28px; font-weight:700; color:#e36f8c; margin-bottom:8px; text-align:center; }
    .fromto { display:flex; justify-content:space-between; color:#666; font-weight:600; margin-bottom:12px; }
    .carousel { position:relative; width:100%; overflow:hidden; border-radius:12px; background:#fff; padding:12px; box-sizing:border-box; }
    .carousel img { width:100%; height:260px; object-fit:cover; border-radius:8px; display:block; }
    .carousel .nav { position:absolute; top:50%; transform:translateY(-50%); width:36px; height:36px; border-radius:18px; border:none; background:rgba(255,255,255,0.85); box-shadow:0 6px 14px rgba(0,0,0,0.06); cursor:pointer; }
    .nav.left { left:8px; }
    .nav.right { right:8px; }
    .small-heart { position:absolute; right:14px; bottom:16px; width:36px; height:36px; border-radius:18px; background:#ffeef3; display:flex; align-items:center; justify-content:center; font-size:18px; color:#e04b72; }

    /* Thank you card */
    .thank-card { width:100%; background:linear-gradient(#fff,#fff); border-radius:14px; padding:18px; box-shadow:0 10px 18px rgba(0,0,0,0.04); text-align:center; }
    .thank-card h2 { margin:0; font-size:34px; color:#eaa2c0; }
    .thank-card h3 { margin:8px 0 10px; font-size:22px; color:#111; font-weight:800; letter-spacing:0.02em; }
    .thank-card p { color:#6f6f6f; line-height:1.6; }

    /* Letter */
    .letter { width:100%; padding:18px; background:var(--card); border-radius:12px; box-shadow:0 6px 12px rgba(0,0,0,0.04); }
    .letter h4 { color:#d96f94; font-size:18px; margin:0 0 8px; font-weight:700; }
    .letter p { color:#555; line-height:1.7; }

    /* Heart grid puzzle */
    .puzzle { width:100%; padding:22px; background:var(--card); border-radius:14px; box-shadow:0 10px 22px rgba(0,0,0,0.03); }
    .puzzle h4 { text-align:center; color:#d96f94; margin:0 0 18px; font-size:20px; }
    .grid { display:grid; grid-template-columns:repeat(3,1fr); gap:12px; }
    .cell { background:#fff3f5; height:78px; border-radius:10px; border:2px solid rgba(200,120,140,0.2); display:flex; align-items:center; justify-content:center; font-size:28px; cursor:pointer; user-select:none; position:relative; }
    .cell.heart::after{ content:"‚ù§Ô∏è"; position:absolute; font-size:32px; }
    .controls { display:flex; justify-content:space-between; gap:12px; margin-top:18px; }
    .btn { padding:12px 18px; border-radius:28px; border:none; cursor:pointer; box-shadow:var(--btn-shadow); }
    .btn.secondary { background:#bfe0f2; color:#15455f; }
    .btn.primary { background:var(--pink); color:#6a1630; }

    /* nav row */
    .nav-row { display:flex; justify-content:space-between; width:100%; margin-top:22px; align-items:center; }
    .btn-circle { padding:12px 18px; border-radius:999px; border:none; box-shadow:var(--btn-shadow); cursor:pointer; }
    .back { background:#cfe6f0; color:#114; }
    .next { background:#f9d6df; color:#500; }

    /* small responsive tweaks */
    @media (max-width:420px){
      .page { padding:24px 18px; }
      .carousel img { height:220px; }
    }
  </style>
</head>
<body>
  <div class="site" role="main">

    <!-- PAGE 1 - Intro / Sorry -->
    <section id="page-1" class="page active" aria-label="Intro">
      <div class="title-small">FOR MY</div>
      <div style="font-size:22px; color:#eaa2c0; text-align:center; margin-bottom:6px;">K U C H U P U C H U ‚ú¶</div>
      <div class="big-phrase"><span class="soft">I am</span> SORRY</div>
      <div class="lead">I made this specially just for you, for moments when you're mad. Take a deep breath, read slowly, and check <strong style="color:#eaa2c0">what I made for you</strong> üíó.</div>
      <div class="cute-img" aria-hidden="true">üê±</div>

      <button class="next-btn" data-next="page-2">Next ‚Üí</button>
    </section>

    <!-- PAGE 2 - Special Cards / Carousel -->
    <section id="page-2" class="page" aria-label="Special cards">
      <div class="section-title">Special Cards</div>
      <div class="fromto"><div>FROM: Me</div><div>TO: My Love</div></div>

      <div class="card-wrap">
        <div class="carousel" id="carousel">
          <!-- Replace these placeholder images with your own -->
          <img src="data:image/svg+xml;utf8,
            <svg xmlns='http://www.w3.org/2000/svg' width='600' height='360'>
              <rect width='100%' height='100%' fill='%23fff3f6'/>
              <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='34' fill='%23d27a98'>Cute Card 1</text>
            </svg>" alt="card 1" />
          <img src="data:image/svg+xml;utf8,
            <svg xmlns='http://www.w3.org/2000/svg' width='600' height='360'>
              <rect width='100%' height='100%' fill='%23fff3f6'/>
              <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='34' fill='%23d27a98'>Cute Card 2</text>
            </svg>" alt="card 2" style="display:none" />
          <button class="nav left" data-dir="-1" aria-label="Previous card">‚Äπ</button>
          <button class="nav right" data-dir="1" aria-label="Next card">‚Ä∫</button>
          <div class="small-heart">‚ù§</div>
        </div>
        <div style="margin-top:12px; color:#666; font-size:14px;">DATE: Now &nbsp;&nbsp; VALID FOR: Forever <span style="font-family:serif; font-style:italic; color:#d05e86;"> with love, Your Sir Ji ‚úâÔ∏è</span></div>
      </div>

      <div class="nav-row">
        <button class="btn-circle back" data-prev="page-1">‚Üê Back</button>
        <button class="btn-circle next" data-next="page-3">Next ‚Üí</button>
      </div>
    </section>

    <!-- PAGE 3 - Thank you card -->
    <section id="page-3" class="page" aria-label="Thank you">
      <div class="thank-card">
        <div style="text-align:left; font-size:12px; color:#777;">FOR MY LOVE ‚ú¶</div>
        <h2>Thank You</h2>
        <h3>FOR BEING MINE üíï</h3>
        <p>I hope this little space made you smile. You are my favorite part of every day -- always. üíó</p>
      </div>

      <div class="nav-row">
        <button class="btn-circle back" data-prev="page-2">‚Üê Back</button>
        <button class="btn-circle next" data-next="page-4">Next ‚Üí</button>
      </div>
    </section>

    <!-- PAGE 4 - Letter -->
    <section id="page-4" class="page" aria-label="Letter">
      <div class="letter">
        <div style="font-size:12px; color:#888; margin-bottom:8px;">A LETTER</div>
        <h4 style="margin:0 0 12px;">My Dearest Pinak,</h4>
        <p>I'm sorry for the moments I hurt you. You mean everything to me -- and I just want your smile back. üíó</p>
        <div style="margin-top:14px; font-weight:700; color:#3b1e2b;">With all my love -- <span style="font-style:italic">Your Sir Ji ‚úâÔ∏è</span></div>
      </div>

      <div class="nav-row">
        <button class="btn-circle back" data-prev="page-3">‚Üê Back</button>
        <button class="btn-circle next" data-next="page-5">Next ‚Üí</button>
      </div>
    </section>

    <!-- PAGE 5 - Heart puzzle -->
    <section id="page-5" class="page" aria-label="Puzzle">
      <div class="puzzle">
        <h4>Fill the heart to continue</h4>
        <div class="grid" id="grid">
          <!-- We'll initialize two hearts: top-left and bottom-right like your screenshot -->
          <div class="cell heart" data-index="0" aria-pressed="true"></div>
          <div class="cell" data-index="1"></div>
          <div class="cell" data-index="2"></div>

          <div class="cell" data-index="3"></div>
          <div class="cell" data-index="4"></div>
          <div class="cell" data-index="5"></div>

          <div class="cell" data-index="6"></div>
          <div class="cell" data-index="7"></div>
          <div class="cell heart" data-index="8" aria-pressed="true"></div>
        </div>

        <div class="controls">
          <button id="clear" class="btn secondary">Clear</button>
          <div style="flex:1"></div>
          <button id="check" class="btn primary">Check & Continue</button>
        </div>
      </div>

      <div class="nav-row">
        <button class="btn-circle back" data-prev="page-4">‚Üê Back</button>
        <button id="finalNext" class="btn-circle next" disabled>Next ‚Üí</button>
      </div>
    </section>

    <!-- PAGE 6 - Final / Confirm -->
    <section id="page-6" class="page" aria-label="Final">
      <div style="text-align:center; padding:22px; background:var(--card); border-radius:12px; box-shadow:0 12px 28px rgba(0,0,0,0.04);">
        <h2 style="color:#e86f96; margin:10px 0;">Everything is set üíñ</h2>
        <p style="color:#666; line-height:1.6;">I hope this little surprise made you smile. Share it, show it, or keep it just between us.</p>

        <div style="margin-top:16px; font-weight:700;">Signed -- <span style="font-style:italic">Your Sir Ji ‚úâÔ∏è</span></div>
      </div>

      <div class="nav-row" style="margin-top:20px;">
        <button class="btn-circle back" data-prev="page-5">‚Üê Back</button>
        <button class="btn-circle next" onclick="window.location.href='#'">Done ‚úî</button>
      </div>
    </section>

  </div>

  <script>
    // Simple page navigation
    document.querySelectorAll('[data-next]').forEach(btn=>{
      btn.addEventListener('click', e=>{
        const to = btn.getAttribute('data-next');
        if(to) showPage(to);
      });
    });
    document.querySelectorAll('[data-prev]').forEach(btn=>{
      btn.addEventListener('click', e=>{
        const to = btn.getAttribute('data-prev');
        if(to) showPage(to);
      });
    });

    function showPage(id){
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      const el = document.getElementById(id);
      if(el) el.classList.add('active');
      window.scrollTo({top:0,behavior:'smooth'});
    }

    // Carousel small logic
    (function(){
      const carousel = document.getElementById('carousel');
      if(!carousel) return;
      const imgs = Array.from(carousel.querySelectorAll('img'));
      let idx = 0;
      function show(i){
        imgs.forEach((im,j)=> im.style.display = (i===j ? 'block' : 'none'));
      }
      show(idx);
      carousel.querySelectorAll('.nav').forEach(n=>{
        n.addEventListener('click', ()=> {
          idx += Number(n.getAttribute('data-dir')||0);
          if(idx < 0) idx = imgs.length -1;
          if(idx >= imgs.length) idx = 0;
          show(idx);
        });
      });
    })();

    // Heart puzzle
    (function(){
      const grid = document.getElementById('grid');
      const cells = Array.from(grid.querySelectorAll('.cell'));
      const finalNext = document.getElementById('finalNext');
      const check = document.getElementById('check');
      const clear = document.getElementById('clear');

      // toggle on click
      cells.forEach(c=>{
        c.addEventListener('click', ()=>{
          c.classList.toggle('heart');
          const filled = cells.filter(x=>x.classList.contains('heart')).length;
          finalNext.disabled = !(filled >= 2); // require at least 2 hearts to enable Next (adjustable)
        });
      });

      clear.addEventListener('click', ()=>{
        cells.forEach(c=>c.classList.remove('heart'));
        finalNext.disabled = true;
      });

      check.addEventListener('click', ()=>{
        const filled = cells.filter(x=>x.classList.contains('heart')).length;
        if(filled >= 2){
          alert("Great -- hearts filled! You can continue.");
          finalNext.disabled = false;
        } else {
          alert("Please fill more hearts (at least 2) to continue.");
        }
      });

      finalNext.addEventListener('click', ()=>{
        if(!finalNext.disabled) showPage('page-6');
      });

      // initialize finalNext state
      finalNext.disabled = !(cells.filter(x=>x.classList.contains('heart')).length >= 2);
    })();

    // Accessibility: allow keyboard navigation between pages by arrow keys
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'ArrowRight'){
        const active = document.querySelector('.page.active');
        if(!active) return;
        const next = active.querySelector('[data-next]');
        if(next) next.click();
      } else if(e.key === 'ArrowLeft'){
        const active = document.querySelector('.page.active');
        if(!active) return;
        const prev = active.querySelector('[data-prev]');
        if(prev) prev.click();
      }
    });
  </script>
</body>
</html>
